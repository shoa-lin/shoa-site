---
title: "Claude Code 2.1.0-2.1.2ï¼šæŠ€èƒ½çƒ­é‡è½½ã€å®‰å…¨åŠ å›ºä¸ä¸€å †å®ç”¨æ”¹è¿›"
date: "2025-01-08"
tags: ["Claude", "å¼€å‘å·¥å…·", "ç‰ˆæœ¬å‘å¸ƒ"]
---

# Claude Code 2.1.0-2.1.2ï¼šæŠ€èƒ½çƒ­é‡è½½ã€å®‰å…¨åŠ å›ºä¸ä¸€å †å®ç”¨æ”¹è¿›

> å‘å¸ƒäº 2025å¹´1æœˆ8æ—¥

Anthropic æ¨é€äº† Claude Code 2.1.0-2.1.2 å¤§æ›´æ–°ï¼Œè¿™æ˜¯ä¸€æ¬¡**éå¸¸å…¨é¢çš„æ›´æ–°**ã€‚

ç®€å•è¯´ä¸‹æœ€å€¼å¾—å…³æ³¨çš„ï¼š

---

## ğŸ“Œ æŠ€èƒ½çƒ­é‡è½½ â€” å¼€å‘æ•ˆç‡ç¿»å€

**è¿™ä¸ªå¤ªé¦™äº†ã€‚**

### ä»¥å‰çš„é—®é¢˜

æ”¹æŠ€èƒ½æ–‡ä»¶åå¾—é‡å¯ä¼šè¯æ‰èƒ½ç”Ÿæ•ˆã€‚æ¯”å¦‚ä½ åœ¨è°ƒè¯•ä¸€ä¸ªã€Œæ‰¹é‡å¤„ç†å›¾ç‰‡ã€çš„æŠ€èƒ½ï¼š

```
ä¿®æ”¹ SKILL.md â†’ é€€å‡º Claude â†’ é‡æ–°æ‰“å¼€ â†’ å†æ¬¡æµ‹è¯•
```

æ”¹ä¸ªå‚æ•°è¦ç­‰åŠå¤©ï¼Œæ•ˆç‡å¾ˆä½ã€‚

### ç°åœ¨çš„ä½“éªŒ

ä¿®æ”¹ `~/.claude/skills` æˆ– `.claude/skills` é‡Œçš„æ–‡ä»¶ï¼Œ**ç«‹å³ç”Ÿæ•ˆ**ï¼š

```
ä¿®æ”¹ SKILL.md â†’ ç›´æ¥æµ‹è¯• â†’ ç«‹å³çœ‹åˆ°æ•ˆæœ
```

### å®é™…ä½¿ç”¨åœºæ™¯

**åœºæ™¯ 1ï¼šè°ƒè¯•ä»£ç æ ¼å¼åŒ–æŠ€èƒ½**

```bash
# ä½ æœ‰ä¸ªä»£ç æ ¼å¼åŒ–çš„æŠ€èƒ½
~/.claude/skills/formatter/SKILL.md

# ä¿®æ”¹æ ¼å¼åŒ–è§„åˆ™åï¼Œç›´æ¥åœ¨å½“å‰ä¼šè¯æµ‹è¯•
"ç”¨ formatter æ ¼å¼åŒ–è¿™ä¸ªæ–‡ä»¶"  â† ç«‹å³ç”Ÿæ•ˆ
```

**åœºæ™¯ 2ï¼šå›¢é˜Ÿå…±äº«æŠ€èƒ½**

å›¢é˜Ÿç»´æŠ¤ä¸€ä¸ªå…±äº«æŠ€èƒ½åº“ï¼Œæ¯ä¸ªäººæ›´æ–°åå…¶ä»–äººç«‹å³å¯ç”¨ï¼Œä¸ç”¨åŒæ­¥é‡å¯ã€‚

**åœºæ™¯ 3ï¼šå¿«é€Ÿè¿­ä»£**

```bash
# æµ‹è¯•ä¸åŒçš„ prompt ç­–ç•¥
ä¿®æ”¹æè¿° â†’ æµ‹è¯• â†’ å†ä¿®æ”¹ â†’ å†æµ‹è¯•
# æ•´ä¸ªè¿‡ç¨‹ä¸ç”¨é‡å¯ï¼Œæ•ˆç‡æå‡å·¨å¤§
```

---

## ğŸ“Œ æƒé™æç¤ºæ›´æ™ºèƒ½ â€” å°‘æ‰“æ–­

### ä»¥å‰çš„é—®é¢˜

æ‰§è¡Œ `git fetch`ã€`npm install` è¿™ç§å¸¸è§„å‘½ä»¤ï¼ŒClaude æœ‰æ—¶å€™ä¼šå¼¹çª—é—®ä½ è¦ä¸è¦å…è®¸ï¼Œæå¾—å¥½åƒè¿™äº›æ“ä½œæœ‰é£é™©ã€‚

ä¸€å¤©ä¸‹æ¥è¦ç‚¹å‡ åæ¬¡ã€Œå…è®¸ã€ï¼Œå¾ˆçƒ¦ã€‚

### ç°åœ¨çš„ä½“éªŒ

è¿™äº›æ—¥å¸¸å¼€å‘å·¥ä½œæµä¸ä¼šå†è¢«æ ‡è®°ä¸ºã€Œä¸­ç­‰é£é™©ã€ï¼š

- `git fetch/rebase` â€” è‡ªåŠ¨æ”¾è¡Œ
- `npm install` â€” è‡ªåŠ¨æ”¾è¡Œ
- `npm test` â€” è‡ªåŠ¨æ”¾è¡Œ
- `git pull/push` â€” è‡ªåŠ¨æ”¾è¡Œ

### å®é™…å—ç›Š

**ä¹‹å‰**ï¼šè·‘ä¸ª `npm install && npm test` è¦ç‚¹ 2 æ¬¡å…è®¸

**ç°åœ¨**ï¼šè‡ªåŠ¨æ‰§è¡Œï¼Œä¸æ‰“æ–­

ä¸€å¤©ä¸‹æ¥èƒ½å°‘ç‚¹å‡ åæ¬¡ï¼Œä¸“æ³¨åº¦æå‡å¾ˆå¤šã€‚

---

## ğŸ“Œ å¤§è¾“å‡ºä¸å†è¢«æˆªæ–­ â€” çœ‹å®Œæ•´æ—¥å¿—

### ä»¥å‰çš„é—®é¢˜

è·‘ `npm run build` è¿™ç§è¾“å‡ºå¾ˆå¤§çš„å‘½ä»¤ï¼Œè¾“å‡ºä¼šè¢«æˆªæ–­åˆ° 3 ä¸‡å­—ç¬¦ï¼ŒClaude åªèƒ½çœ‹åˆ°éƒ¨åˆ†å†…å®¹ã€‚

```
[ä¹‹å‰çš„è¾“å‡ºè¢«æˆªæ–­...]
Error: build failed  â† Claude çœ‹ä¸åˆ°å®Œæ•´çš„é”™è¯¯ä¿¡æ¯
```

æœ‰æ—¶å€™ Claude ç†è§£é”™äº†ï¼Œè¿˜è¦å†è·‘ä¸€æ¬¡ã€‚

### ç°åœ¨çš„ä½“éªŒ

å¤§è¾“å‡ºä¼šä¿å­˜åˆ°ç£ç›˜ï¼ŒClaude å¯ä»¥è¯»å®Œæ•´å†…å®¹ï¼š

```
# è·‘æ„å»º
npm run build

# è¾“å‡ºä¿å­˜åˆ° /tmp/claude-output-xxx.txt
# Claude è¯»å–å®Œæ•´å†…å®¹ï¼Œèƒ½æ‰¾åˆ°çœŸæ­£çš„é—®é¢˜
```

### å®é™…ä½¿ç”¨åœºæ™¯

**åœºæ™¯ 1ï¼šå¤§å‹é¡¹ç›®æ„å»º**

```bash
# Next.js é¡¹ç›®æ„å»º
npm run build
# è¾“å‡ºå¯èƒ½æœ‰ 10 ä¸‡+ è¡Œ
# ç°åœ¨Claude èƒ½çœ‹åˆ°å®Œæ•´é”™è¯¯å †æ ˆ
```

**åœºæ™¯ 2ï¼šæŸ¥çœ‹æ—¥å¿—**

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
cat logs/app.log | grep ERROR

# ä¹‹å‰ï¼šåªèƒ½çœ‹åˆ°éƒ¨åˆ†é”™è¯¯
# ç°åœ¨ï¼šClaude èƒ½åˆ†æå®Œæ•´æ—¥å¿—æ¨¡å¼
```

**åœºæ™¯ 3ï¼šæµ‹è¯•è¾“å‡º**

```bash
# è·‘æµ‹è¯•å¥—ä»¶
npm test -- --verbose

# ä¹‹å‰ï¼šæµ‹è¯•ç»“æœè¢«æˆªæ–­
# ç°åœ¨ï¼šå®Œæ•´çš„å¤±è´¥ä¿¡æ¯éƒ½èƒ½çœ‹åˆ°
```

---

## ğŸ“Œ Bash æƒé™é€šé…ç¬¦ â€” é…ç½®æ›´ç®€å•

### ä»¥å‰çš„é—®é¢˜

è¦å…è®¸å„ç§ npm å‘½ä»¤ï¼Œå¾—ä¸€ä¸ªä¸ªå†™ï¼š

```json
"Bash(npm install)",
"Bash(npm run dev)",
"Bash(npm run build)",
"Bash(npm test)",
// ... å‡ åæ¡
```

### ç°åœ¨çš„ä½“éªŒ

ç”¨é€šé…ç¬¦ä¸€æ¡æå®šï¼š

```json
"Bash(npm *)"
```

### å®ç”¨é…ç½®ç¤ºä¾‹

```json
{
  "permissions": {
    "bash": [
      // å…è®¸æ‰€æœ‰ npm å‘½ä»¤
      "Bash(npm *)",

      // å…è®¸æ‰€æœ‰ git å‘½ä»¤
      "Bash(git *)",

      // åªå…è®¸é’ˆå¯¹ main åˆ†æ”¯çš„æ“ä½œ
      "Bash(git * main)",

      // å…è®¸æ‰€æœ‰ help å‘½ä»¤
      "Bash(* -h)",
      "Bash(* --help)"
    ]
  }
}
```

---

## ğŸ“Œ /plan å¿«æ·é”® â€” è§„åˆ’æ›´æ–¹ä¾¿

### ä½¿ç”¨æ–¹æ³•

ç›´æ¥è¾“å…¥ `/plan` å°±è¿›å…¥è§„åˆ’æ¨¡å¼ï¼š

```bash
/plan é‡æ„ç”¨æˆ·è®¤è¯æ¨¡å—
```

ä¸ç”¨å†è®° `/plan mode` è¿™ç§å¤æ‚å‘½ä»¤ã€‚

### å®é™…ä½¿ç”¨æµç¨‹

```bash
# 1. è¿›å…¥è§„åˆ’æ¨¡å¼
/plan æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½

# 2. Claude ä¼šå…ˆè®¨è®ºæ–¹æ¡ˆ
#    - éœ€è¦å“ªäº›å­—æ®µï¼Ÿ
#    - ç”¨ä»€ä¹ˆéªŒè¯æ–¹å¼ï¼Ÿ
#    - æ•°æ®åº“æ€ä¹ˆè®¾è®¡ï¼Ÿ

# 3. ä½ ç¡®è®¤æ–¹æ¡ˆå
#    æŒ‰ Shift+Tab å¿«æ·é”®é€‰æ‹©ã€Œè‡ªåŠ¨æ¥å—ç¼–è¾‘ã€

# 4. Claude ä¸€æ¬¡æ€§å®ç°
```

### Boris çš„ä½¿ç”¨ç»éªŒ

ç¤¾åŒºè´Ÿè´£äºº Boris åˆ†äº«ä»–çš„å·¥ä½œæµï¼š

> å¤§éƒ¨åˆ†ä¼šè¯éƒ½ä» Plan æ¨¡å¼å¼€å§‹ï¼ˆæŒ‰ä¸¤æ¬¡ shift+tab è¿›å…¥ï¼‰ã€‚è·Ÿ Claude æ¥å›è®¨è®ºï¼Œç›´åˆ°è®¡åˆ’æ»¡æ„ï¼Œç„¶ååˆ‡æ¢åˆ°è‡ªåŠ¨æ¥å—ç¼–è¾‘æ¨¡å¼ï¼ŒClaude é€šå¸¸èƒ½ä¸€æ¬¡æ€§å®Œæˆã€‚

---

## ğŸ“Œ Ctrl+B åå°ä»»åŠ¡ â€” å¤šä»»åŠ¡å¹¶è¡Œ

### ä»¥å‰çš„é—®é¢˜

bash å‘½ä»¤å’Œ agent è¦åˆ†åˆ«å¤„ç†åå°ä»»åŠ¡ï¼Œæ“ä½œä¸ç»Ÿä¸€ã€‚

### ç°åœ¨çš„ä½“éªŒ

æŒ‰ **Ctrl+B**ï¼Œæ‰€æœ‰è¿è¡Œä¸­çš„ä»»åŠ¡ä¸€èµ·ç§»åˆ°åå°ï¼š

```bash
# åœºæ™¯ï¼šåŒæ—¶è·‘å¤šä¸ªä»»åŠ¡
npm run dev        â† Ctrl+B ç§»åˆ°åå°
npm test           â† Ctrl+B ç§»åˆ°åå°
python server.py   â† Ctrl+B ç§»åˆ°åå°

# ç»§ç»­ç”¨ Claude åšåˆ«çš„äº‹
```

### å®é™…ä½¿ç”¨åœºæ™¯

**åœºæ™¯ 1ï¼šå¼€å‘ + æµ‹è¯•å¹¶è¡Œ**

```bash
# è·‘å¼€å‘æœåŠ¡å™¨
npm run dev
# æŒ‰ Ctrl+B ç§»åˆ°åå°

# åŒæ—¶è·‘æµ‹è¯•
npm test
# æŒ‰ Ctrl+B ç§»åˆ°åå°

# ç»§ç»­è®© Claude å†™æ–°åŠŸèƒ½
```

**åœºæ™¯ 2ï¼šé•¿æ—¶é—´ä»»åŠ¡**

```bash
# è·‘æ•°æ®è¿ç§»
python migrate.py
# Ctrl+B ç§»åˆ°åå°

# ç»§ç»­ç”¨ Claude åšå…¶ä»–äº‹ï¼Œå®Œæˆåä¼šé€šçŸ¥
```

---

## ğŸ“Œ Shift+Enter å¼€ç®±å³ç”¨

### ä»¥å‰çš„é—®é¢˜

åœ¨ iTerm2ã€WezTerm ç­‰ç»ˆç«¯ç”¨ Shift+Enter æ¢è¡Œï¼Œå¾—æ‰‹åŠ¨æ”¹é…ç½®ã€‚

### ç°åœ¨çš„ä½“éªŒ

ä»¥ä¸‹ç»ˆç«¯**å¼€ç®±å³ç”¨**ï¼Œä¸ç”¨æ”¹ä»»ä½•é…ç½®ï¼š

- iTerm2
- WezTerm
- Ghostty
- Kitty

### ä½¿ç”¨åœºæ™¯

```bash
# å†™å¤šè¡Œå‘½ä»¤
npm install \
  --save-dev \
  prettier \
  eslint

# Shift+Enter æ¢è¡Œï¼Œç›´æ¥èƒ½ç”¨
```

---

## ğŸ“Œ æ–‡ä»¶è·¯å¾„å¯ç‚¹å‡»

åœ¨ iTerm ç­‰æ”¯æŒ OSC 8 çš„ç»ˆç«¯é‡Œï¼Œå·¥å…·è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„å˜æˆäº†**å¯ç‚¹å‡»çš„è¶…é“¾æ¥**ï¼š

```
âœ“ Edited src/components/User.tsx
  â† ç›´æ¥ç‚¹å‡»è·³è½¬
```

ä¸ç”¨å†å¤åˆ¶ç²˜è´´è·¯å¾„äº†ã€‚

---

## ğŸ“Œ Hooks å¢å¼º â€” æ›´å¼ºå¤§çš„è‡ªå®šä¹‰

### PreToolUse Hook æ”¹è¿›

ç°åœ¨å¯ä»¥åœ¨è¿”å›ã€Œè¯¢é—®æƒé™ã€å†³å®šæ—¶**ä¿®æ”¹è¾“å…¥å†…å®¹**ï¼š

```json
{
  "type": "PreToolUse",
  "description": "æ£€æŸ¥å±é™©æ“ä½œ",
  "allowedTools": ["Bash"],
  "script": "check-dangerous.sh"
}
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- Hook æ£€æµ‹åˆ° `rm -rf` å‘½ä»¤
- ä¿®æ”¹ä¸º `rm -rf -i`ï¼ˆäº¤äº’æ¨¡å¼ï¼‰
- åŒæ—¶è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®è®¤

è¿™æ · hook æ—¢èƒ½åšä¸­é—´ä»¶ï¼Œåˆèƒ½è¯·æ±‚æƒé™ã€‚

### å®é™…åº”ç”¨

**åœºæ™¯ 1ï¼šè‡ªåŠ¨æ ¼å¼åŒ–**

```bash
# æ¯æ¬¡ä¿å­˜æ–‡ä»¶å‰
PreToolUse Hook â†’ è‡ªåŠ¨æ ¼å¼åŒ– â†’ ä¿å­˜
```

**åœºæ™¯ 2ï¼šå®‰å…¨æ£€æŸ¥**

```bash
# æ‰§è¡Œ Bash å‘½ä»¤å‰
PreToolUse Hook â†’ æ£€æŸ¥å±é™©æ“ä½œ â†’ è¯¢é—®ç¡®è®¤
```

**åœºæ™¯ 3ï¼šä»£ç è´¨é‡**

```bash
# æäº¤å‰
PreToolUse Hook â†’ è¿è¡Œæµ‹è¯• â†’ é˜»æ­¢å¤±è´¥æäº¤
```

---

## ğŸ”’ å®‰å…¨æ¼æ´ä¿®å¤

è¿™æ¬¡ä¿®äº†å‡ ä¸ªä¸¥è‚ƒçš„é—®é¢˜ï¼Œ**å»ºè®®å°½å¿«æ›´æ–°**ï¼š

### å‘½ä»¤æ³¨å…¥æ¼æ´

bash å‘½ä»¤å¤„ç†é‡Œçš„å‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œæ¶æ„è¾“å…¥å¯èƒ½æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚

### è°ƒè¯•æ—¥å¿—æ³„éœ²

ä¹‹å‰ debug æ—¥å¿—å¯èƒ½æ³„éœ²ï¼š
- OAuth ä»¤ç‰Œ
- API å¯†é’¥
- å¯†ç 

### å†…å­˜æ³„éœ²

- **Tree-sitter**ï¼šé•¿æ—¶é—´ä½¿ç”¨å WASM å†…å­˜æ— é™å¢é•¿
- **Git diff**ï¼šåˆ‡ç‰‡å­—ç¬¦ä¸²ä¿ç•™å¤§å‹çˆ¶å­—ç¬¦ä¸²
- **äºŒè¿›åˆ¶æ–‡ä»¶**ï¼šå›¾ç‰‡ã€PDF è¢«æ„å¤–åŒ…å«åˆ°å†…å­˜

---

## ğŸ› ï¸ å…¶ä»–æ”¹è¿›

- **æ‹–æ‹½å›¾ç‰‡å¸¦è·¯å¾„** â€” Claude çŸ¥é“å›¾ç‰‡ä»å“ªæ¥çš„
- **Windows winget** â€” Windows ç”¨æˆ·å¯ä»¥ç”¨ winget å®‰è£…
- **è¯­è¨€é…ç½®** â€” è®¾ç½® `language: "japanese"` è®© Claude ç”¨æ—¥è¯­å›å¤
- **æ’ä»¶/MCP ç•Œé¢ç»Ÿä¸€** â€” æ›´æ¸…æ™°çš„ç®¡ç†ç•Œé¢

---

## æ€»ç»“

è¿™æ¬¡æ›´æ–°æˆ‘æœ€å–œæ¬¢çš„ï¼š

1. **æŠ€èƒ½çƒ­é‡è½½** â€” å¼€å‘æŠ€èƒ½æ—¶ç”Ÿäº§åŠ›æå‡æ˜æ˜¾
2. **æƒé™æç¤ºæ›´æ™ºèƒ½** â€” å‡å°‘æ‰“æ‰°ï¼Œä¸“æ³¨åº¦æå‡
3. **å¤§è¾“å‡ºå¤„ç†** â€” è·‘æ„å»ºçœ‹æ—¥å¿—ä½“éªŒå¥½å¾ˆå¤š
4. **Bash é€šé…ç¬¦** â€” æƒé™é…ç½®ç®€å•å¤šäº†
5. **å®‰å…¨æ¼æ´ä¿®å¤** â€” ç”¨èµ·æ¥æ›´æ”¾å¿ƒ

å¦‚æœä½ ç”¨ Claude Codeï¼Œè¿™æ¬¡å€¼å¾—å‡ã€‚

---

> æ›´æ–°å†…å®¹æ¥æºï¼š[Claude Code GitHub ä»“åº“](https://github.com/anthropics/claude-code)
